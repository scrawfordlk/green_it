# Sustainable Blockchains
- Centralised
  + one party has control
  + DigiCash
- Decentralised but Permissioned
  + fixed list of parties
  + Hyperledger
- Fully Permissionless
  + anyone can participate
  + Bitcoin, Ethereum
## Centralised Anonymous E-cash (DigiCash)
- Buyer sends money to bank
- Seller receives money from bank
- but the bank does not know identities of both
## Decentralised Permissioned
- instead of one bank, there are many banks ("Multiparty Computation")
- functional as long as sufficient banks are online
## Permissionless (Bitcoin)
- consensus is impossible
  + due to permissionless, you can create many fake identities to control the majority of the system
- Instead, agreement is not through votes, but a resource: computing power
### Proof of Work
- How can Alice prove to Bob that they evaluated a Hash-function H 10^9 times?
  + Bob picks a challenge c (Alice cannot predict)
  + Alice must find value X so that H(c, X) starts with 9 0s (decimal)
### Bitcoin
- Parties communicate via Internet
- Blockchain:
  + Each block records which public keys holds how many coins
  + Each block contains hash of previous block
    - => only appendable
- Users
  + Exchange transactions (sign using private key)
- Miners
  + Try to add block to blockchain
    - Hash of last block is the challenge c
    - Miners try to find the X
    - Successful party may append their block => new challenge
#### Security
- If blockchain branches, consider longest chain as valid
  + under the Assumption that majority of computing power isn't malicious => no double spending
### Conensus vs Application Layer
#### Application Layer
- Bitcoin's transactions (UTXA)
- Ethereum's Smart Contracts
#### Consensus Layer
- Proof of Work vs Proof of Stake
- Finality (when guaranteed to stay) and latency (when on chain)
- Throughput
## Blockchain Sustainability
### Technological Sustainability
- not very scalable
  + BTC: 7 t/s
  + ETH: 20 t/s
  + VISA: 24 000 t/s
#### Solutions
##### Naive
- Increase Blocksize
- Increase Block-appending rate
##### Sharding
- Maintain many different blockchains (shards) instead of one
##### Layer 2 solutions
- Layer 1 is the actual blockchain (so Sharding is Layer 1 solution)
- Layer 2 is off-chain
###### Rollups
- "roll up" big Blockchain into a succint proof that you know the state of the blockchain
- "Zero Knowledge Succint Non-Interactive Argument of Knowledge (ZK-SNARKS)"
###### Payment Networks
- BTC Lightning network
### Environmental Sustainability
- Nakamoto Vision: Use spare CPU cycles
- Reality: Specialised (energy-expensive) hardware
- Not-sustainable per transaction:
  + 462 kg CO2
  + 892 kWh
  + 194g e-waste
  + 13 000 liters water
#### Solution: Replace Proof of Work
##### Proof of Stake
+ Number of coins is the resource instead of computing power
- Problems
  - Nothing-at-Stake: Forks are easier, making convergence to one chain harder
  - Long-range-Attack: Going back the chain and creating a fork long enough to become the main chain
  - Wealth Concentration: The more coins you have, the more coins you get
  - Centralisation
##### Proof of Space
- external (inexpensive) resource with low power consumption
- How can Alice prove to Bob that she stores 1 TB of data
  + Store data as graph (pebble graph) where each node has label made up of hash of parents
  + Bob asks for a random label at index i
  + Alice sends label_i = H(label_p1, label_p2)
###### Chia Network
- Combines Proof of Space with Verifiable Delay Functions (= time)
- During hype there was shortage of storage devices
- Collaborated on initiative: Reuse of non-reliable hard drives
### Social Sustainability
#### Nakamoto coefficient
- min. number of parties that can control system together
- BTC very bad
- Chia very good - until exploit
  + People found way to compress space (tradoff with more computing power) by factor of 2
### Blockchain for Sustainability
- transparent database (e.g. for carbon credits)
- Decentralised physical infrasructure networks (DePINs)
  + Offer services (e.g. storage) or data to others over network
  + Important: Prove that you have the resource
  + e.g.: Filecoin (Proof of Space)
    - rent space to others
    - based on Proof of Replication and Proof of space-time
